<!DOCTYPE html>
<html lang="zh-Hant-TW">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        // 大樂透，遞增排序

        // 如果有三個以上和開獎號碼一樣則中獎




        let arr = [1, 2, 3, 4, 5, 6];



        // 大樂透玩法:從1～49選出6個號碼，加1個特別號。
        // 改成威力彩:從1～38選出6個號碼，再從1~8選出1個號碼
        // 今彩539:從1～39選出5個號碼
        function randomInt(n, t, t2) {
            // 亂數開獎號碼，不可重複
            let open = [];
            for (j = 0; j < n;) {
                let newInt = Math.floor(Math.random() * t) + 1;

                if (open.includes(newInt) == true) {
                    // 重複

                } else {
                    // 沒重複
                    open.push(newInt);
                    j++
                }

            }

            //特別號或第二區
            if (t2 != 0) {
                // 玩法沒有特別號或第二區的話=>t2為0
                let x = Math.floor(Math.random() * t2) + 1;
                // open.push(x);
                if (t2 == 49) {
                    document.write("大樂透特別號 :" + x + "<br>");
                } else if (t2 == 8) {
                    document.write("威力彩第二區 :" + x + "<br>");
                }

            }

            open.sort((a, b) => { return a - b; });//排序

            return open;
        }

        // 確認是否中獎
        function checkNumber(open) {
            let check = [];
            let count = 0;

            for (i = 0; i < open.length; i++) {
                let x = arr.includes(open[i]);
                check.push(x);
            }

            check.forEach((n) => {
                if (n == true) {
                    return count++;
                }
            })

            if (count >= 3) {
                document.write("確認是否中獎 :中獎" + "<br>");
            } else {
                document.write("確認是否中獎 :未中獎" + "<br>");
            }
            // document.write("確認是否中獎 :" + check + "<br>");
            document.write("符合數 :" + count + "<br>");
        }


        let num = window.prompt("請輸入1.大樂透 2.威力彩3.今彩539");
        document.write("填寫號碼: " + arr + "<br>");

        switch (num) {
            case "1":
                // 大樂透
                document.write("開獎號碼: " + randomInt(6, 49, 49) + "<br>");
                checkNumber(randomInt());
                break;

            case "2":
                // 威力彩
                document.write("開獎號碼: " + randomInt(6, 38, 8) + "<br>");
                checkNumber(randomInt());
                break;

            case "3":
                document.write("今彩539開獎號碼: " + randomInt(5, 39, 0) + "<br>");
                checkNumber(randomInt());
                break;

            default:
                document.write("代碼輸入錯誤");
                break;
        }








    </script>
</body>

</html>